"use strict";!function(s){var t=null,a=null,c=s(".batchpress"),r=s(".batchpress-message"),e=s(".batchpress-log ul"),n=c.find(".batchpress-form").data("nonce");function o(){c.find(".batchpress-button").attr("disabled",!1)}function l(c){a=s.post(ajaxurl,{action:"batchpress",job:t,nonce:n,process:c}).done(u).fail(b)}function p(s){s.preventDefault(),t=c.find("input[name=job]:checked").val(),l("start"),c.addClass("batchpress-processing"),r.html("<small>".concat(t,"</small> ").concat(r.data("message")))}function i(){try{a.abort()}catch(s){console.error("Abort: ".concat(s))}finally{l("stop"),e.empty(),c.removeClass("batchpress-processing batchpress-error")}}function u(s){if(h(s=m(s)),"processing"===s.status)return l("run")}function b(s){h(m(s)),c.addClass("batchpress-error")}function h(s){e.append(s.log.map((function(s){return"<li>".concat(s,"</li>")}))),r.html("<small>".concat(t,"</small> ").concat(s.message)),c.addClass("batchpress-"+s.status)}function f(){e.empty(),c.removeClass("batchpress-done batchpress-error batchpress-processing")}function m(t){try{return s.parseJSON(t)}catch(s){return{status:"error",message:s}}}c.on("click",".batchpress-option",o),c.on("submit",".batchpress-form",p),c.on("click",".batchpress-stop",i),c.on("click",".batchpress-back",f)}(jQuery);
//# sourceMappingURL=admin.min.js.map